<!DOCTYPE html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
</head>
<body>
    <div style="width:800px">
        <canvas id="myChart"></canvas>
    </div>
    <script>
        {% set kda=[] %} 
        {% set dpg = [] %}
        {% set goldEarned = [] %}
        {% set wardsPlaced = [] %}
        {% set champLevel = [] %}
        {% set totalDamageDealtToChampions = [] %}
        {% set totalMinionsKilled = [] %}
        {% set timeCCingOthers = [] %}

        {% for Game_DATA in Game_DATAs %}
            
            {{ kda.append(((Game_DATA['stats']['kills']+Game_DATA['stats']['assists'])/Game_DATA['stats']['deaths'])|round(1) ) }};
            {{ dpg.append((Game_DATA['stats']['totalDamageDealtToChampions']/Game_DATA['stats']['goldEarned'])|round(1) ) }};
            {{ goldEarned.append((Game_DATA['stats']['goldEarned']/1000)|round(1) ) }};
            {{ wardsPlaced.append(Game_DATA['stats']['wardsPlaced']) }};
            {{ champLevel.append(Game_DATA['stats']['champLevel']) }};
            {{ totalDamageDealtToChampions.append((Game_DATA['stats']['totalDamageDealtToChampions']/1000)|round(1)) }};
            {{ totalMinionsKilled.append(Game_DATA['stats']['totalMinionsKilled']) }};
            {{ timeCCingOthers.append(Game_DATA['stats']['timeCCingOthers']) }};

        {% endfor %}
    </script>
    
    <script>
    
    var ctx = document.getElementById("myChart").getContext('2d');
    const data = {
        labels: [
            "kda", "데미지/골드", "골드획득", "와드설치","레벨링","데미지","미니언킬","군중제어"
        ],
        datasets: [{
            label: '검색자',
            data: [{{ (kda|sum / kda|count)|round(1) }},{{ (dpg|sum / dpg|count)|round(1) }},{{ (goldEarned|sum / goldEarned|count)|round(1) }}
                ,{{ (wardsPlaced|sum / wardsPlaced|count)|round(1) }},{{ (champLevel|sum / champLevel|count)|round(1) }},{{ (totalDamageDealtToChampions|sum / totalDamageDealtToChampions|count)|round(1) }}
                ,{{ (totalMinionsKilled|sum / 10 / totalMinionsKilled|count)|round(1) }},{{ (timeCCingOthers|sum / timeCCingOthers|count)|round(1) }}],
            fill: true,
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            borderColor: 'rgb(255, 99, 132)',
            pointBackgroundColor: 'rgb(255, 99, 132)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgb(255, 99, 132)'
        }, {
            label: '상위평균',
            data: [{{ listcoll[1][0] }},{{ listcoll[1][1] }},{{ listcoll[1][2] }},{{ listcoll[1][3] }},{{ listcoll[1][4] }},{{ listcoll[1][5] }},{{ listcoll[1][6]/10 }},{{ listcoll[1][7] }}],
            fill: true,
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            borderColor: 'rgb(54, 162, 235)',
            pointBackgroundColor: 'rgb(54, 162, 235)',
            pointBorderColor: '#fff',
            pointHoverBackgroundColor: '#fff',
            pointHoverBorderColor: 'rgb(54, 162, 235)'
        }]
    };
    const options = {
            scales: {
                r: {
                    angleLines: {
                        display: false
                    },
                    suggestedMin: 50,
                    suggestedMax: 100
                }
            }
        };
    var myChart = new Chart(ctx, {
        type: 'radar',
        data: data,
        options: options
    });
    </script>
</body>